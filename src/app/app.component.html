<nav class="navbar bg-body shadow-sm">
  <div class="container-fluid">
    <div class="logo">
      <h6>Entegrate</h6>
      <span class="text-muted">Streamlining your immigration</span>
    </div>
  </div>
</nav>

<div class="container position-relative">
  <div class="app-content">
    <div class="container-timeline" [class.open]="!!(currentEvent$ | async)">
      <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="panelsStayOpen-headingOne">
            <button class="accordion-button"
                    [class.collapsed]="!(isOpen$ | async)"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#panelsStayOpen-collapseOne"
                    [attr.aria-expanded]="(isOpen$ | async)"
                    aria-controls="panelsStayOpen-collapseOne"
                    (click)="toggleOpen()">
              General information
            </button>
          </h2>
          <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
               [class.show]="(isOpen$ | async)"
               aria-labelledby="panelsStayOpen-headingOne">
            <div class="accordion-body">
              <fieldset [formGroup]="form">
                <legend>Information</legend>
                <div class="mb-3">
                  <label for="amountOfPeople" class="form-label">How many people are you bringing along <b>(including yourself)</b></label>
                  <input [formControlName]="'amountOfPeople'" type="number" id="amountOfPeople" class="form-control">
                </div>
                <div class="mb-3">
                  <label for="euCitizenship" class="form-label">Do you have EU citizenship?</label>
                  <select id="euCitizenship" formControlName="euCitizen" class="form-select">
                    <option *ngFor="let opt of booleanOptions" [ngValue]="opt.value">
                      {{opt.label}}
                    </option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="partner" class="form-label">Are you bringing a partner over?</label>
                  <select [formControlName]="'partner'" id="partner" class="form-select">
                    <option *ngFor="let opt of booleanOptions" [ngValue]="opt.value">
                      {{opt.label}}
                    </option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="children" class="form-label">Do you have children coming over?</label>
                  <select [formControlName]="'children'" id="children" class="form-select">
                    <option *ngFor="let opt of booleanOptions" [ngValue]="opt.value">
                      {{opt.label}}
                    </option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="children_count" class="form-label">How many children are coming over?</label>
                  <input [formControlName]="'childrenAmount'" type="number" id="children_count" class="form-control">
                </div>

                <div class="mb-3">
                  <label for="pets" class="form-label">Do you have pets coming over?</label>
                  <select [formControlName]="'pets'" id="pets" class="form-select">
                    <option *ngFor="let opt of booleanOptions" [ngValue]="opt.value">
                      {{opt.label}}
                    </option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="pets_count" class="form-label">How many pets are you bringing over?</label>
                  <input [formControlName]="'petsAmount'" type="number" id="pets_count" class="form-control">
                </div>
              </fieldset>
            </div>
          </div>
        </div>
      </div>

      <h3 class="mt-3">Your timeline</h3>
      <ng-container *ngIf="events$ | async; let events">
        <ngx-timeline [events]="events"
                      [enableAnimation]="false"
                      [eventCustomTemplate]="eventTemplate"
                      [changeSideInGroup]="NgxTimelineEventChangeSideInGroup.ALL"></ngx-timeline>
      </ng-container>
    </div>
    <div class="container-additional" [class.open]="!!(currentEvent$ | async)">
      <ng-container #containerRef></ng-container>
    </div>
  </div>

</div>

<ng-template #eventTemplate let-event=event let-colSidePosition=colSidePosition>
  <app-event [event]="event"></app-event>
</ng-template>
